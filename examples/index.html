<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta appId="123" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sdk-test</title>
  </head>

  <body pageId="123456">
    <!-- <script>
      (function () {
        const script = document.createElement("script");
        script.src = "../zilong-monitor/dist/zilong-monitor.js";
        const body = document.body;
        body.insertBefore(script, body.firstChild);
        script.onload = function () {
          const event = new CustomEvent("ZilongMonitoor");
          window.dispatchEvent(event);
        };
      })();
    </script> -->
    <script>
      window.onload = () => {
        const monitor = window.ZiLongMonitor;
        monitor.registerBeforeCreateParams(() => {
          console.log(555);
        });

        monitor.registerBeforeReport((params) => {
          return params + "&custom=111";
        });

        monitor.registerAfterReport((url, reportData) => {
          console.log("registerAfterReport", url, reportData);
        });

        monitor.registerHandleError((e) => {
          console.log("registerHandleError", e);
        });

        monitor.sendPV();
      };
    </script>
  </body>
</html>
